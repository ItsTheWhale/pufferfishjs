"use strict";(()=>{function g(){var n;let t=document.querySelectorAll("[p-click]");for(let e in t){if(typeof t[e]!="object")continue;let o=(n=t[e].getAttribute("p-click"))!==null&&n!==void 0?n:"";t[e].addEventListener("click",()=>window.eval(o)),t[e].removeAttribute("p-click")}}function b(){var n;let t=document.querySelectorAll("[p-clickonce]");for(let o in t){let r=function(){window.eval(i),t[o].removeEventListener("click",r)};var e=r;if(typeof t[o]!="object")continue;let i=(n=t[o].getAttribute("p-clickonce"))!==null&&n!==void 0?n:"";t[o].addEventListener("click",r),t[o].removeAttribute("p-clickonce")}}function x(){g(),b()}function A(){var n,t,e,o,i,r,m,s;let c=/\\?{{[^}]+}}/g,h=new RegExp("(?<!\\\\){{[^}]+}}","g"),f=/\\{{[^}]+}}/g,l=[],v,P=[],q=document.createTreeWalker(document,NodeFilter.SHOW_TEXT,null);for(;v=q.nextNode();)l.push(v);for(let d in l){if(!(!((n=l[d].textContent)===null||n===void 0)&&n.match(c)))continue;let a=((t=l[d].textContent)!==null&&t!==void 0?t:"").match(c);for(let p in a)a[p].match(h)?l[d].textContent=(i=(e=l[d].textContent)===null||e===void 0?void 0:e.replace(a[p],((o=window[a[p].slice(2,-2).trim()])!==null&&o!==void 0?o:"")+""))!==null&&i!==void 0?i:"":a[p].match(f)&&(l[d].textContent=(s=(r=l[d].textContent)===null||r===void 0?void 0:r.replace(a[p],(m=a[p].substring(1))!==null&&m!==void 0?m:""))!==null&&s!==void 0?s:"")}}function w(){var n,t,e;let o=new RegExp("(?<!\\\\){{[^}]+}}","g"),i=[],r,m=[],s=document.createTreeWalker(document,NodeFilter.SHOW_ELEMENT,null);for(;r=s.nextNode();)if((r==null?void 0:r.attributes)!==void 0)for(let c in r.attributes)r.attributes[c].value!==void 0&&r.attributes[c].value.match(o)&&i.push(r.attributes[c]);for(let c in i){let f=((n=i[c].value)!==null&&n!==void 0?n:"").match(o);for(let l in f)i[c].value=(e=i[c].value.replace(f[l],((t=window[f[l].slice(2,-2).trim()])!==null&&t!==void 0?t:"")+""))!==null&&e!==void 0?e:""}}function k(){A(),w()}function u(n,t){var e;let o=[],i=!1;if(n.getAttribute("p-trigger")&&((e=n.getAttribute("p-trigger"))===null||e===void 0||e.split(/ /).forEach(r=>{r.toLowerCase()==="once"?i=!0:o.push(r)})),o.length===0)switch(n.tagName){case"input":o.push("change");break;case"textarea":o.push("change");break;case"form":o.push("submit");break;default:o.push("click")}for(let r in o)n.addEventListener(o[r],t,{once:i})}function _(){var n;let t=document.querySelectorAll("[p-post]");for(let e in t){if(typeof t[e]!="object")continue;let o=(n=t[e].getAttribute("p-post"))!==null&&n!==void 0?n:"";u(t[e],()=>{let i=new XMLHttpRequest;i.open("POST",o),i.send()}),t[e].removeAttribute("p-post")}}function E(){var n;let t=document.querySelectorAll("[p-get]");for(let e in t){if(typeof t[e]!="object")continue;let o=(n=t[e].getAttribute("p-get"))!==null&&n!==void 0?n:"";u(t[e],()=>{let i=new XMLHttpRequest;i.open("GET",o),i.send()}),t[e].removeAttribute("p-get")}}function T(){var n;let t=document.querySelectorAll("[p-put]");for(let e in t){if(typeof t[e]!="object")continue;let o=(n=t[e].getAttribute("p-put"))!==null&&n!==void 0?n:"";u(t[e],()=>{let i=new XMLHttpRequest;i.open("PUT",o),i.send()}),t[e].removeAttribute("p-put")}}function y(){var n;let t=document.querySelectorAll("[p-patch]");for(let e in t){if(typeof t[e]!="object")continue;let o=(n=t[e].getAttribute("p-patch"))!==null&&n!==void 0?n:"";u(t[e],()=>{let i=new XMLHttpRequest;i.open("PATCH",o),i.send()}),t[e].removeAttribute("p-patch")}}function C(){var n;let t=document.querySelectorAll("[p-delete]");for(let e in t){if(typeof t[e]!="object")continue;let o=(n=t[e].getAttribute("p-delete"))!==null&&n!==void 0?n:"";u(t[e],()=>{let i=new XMLHttpRequest;i.open("DELETE",o),i.send()}),t[e].removeAttribute("p-delete")}}function L(){_(),E(),T(),y(),C()}window.Puffer={render(){x(),k(),L()}};window.addEventListener("load",()=>{window.Puffer.render()});})();
